#quarkus.index-dependency.jaxrs-api.group-id=org.jboss.spec.javax.ws.rs
#quarkus.index-dependency.jaxrs-api.artifact-id=jboss-jaxrs-api_2.1_spec
rules.definition={"inputs": ["deployment1"],"rules": [{"when": ["$deployment1.spec.replicas >= 3"],"then": [{"name": "deployment2","path": "spec","value": {"replicas": "$deployment1.spec.replicas / 2 + 1"}},{"name": "deployment3","path": "metadata.labels","value": {"example": "$deployment1.metadata.name"}}]},{"when": ["$deployment1.spec.replicas < 3"],"then": [{"name": "deployment2","path": "spec","value": {"replicas": 1}},{"name": "deployment3","path": "spec","value": {"replicas": 0}}]}]}